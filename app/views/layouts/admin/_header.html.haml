%header.border-bottom
  .container-fluid.py-1.bg-light.border-bottom
    .row.align-items-center
      .col-lg-6.col-12.d-flex.justify-content-center.justify-content-lg-start
        = render_if_exists("shared/live_clock")
      .col-lg-6.col-12.d-none.d-lg-flex.justify-content-center.justify-content-lg-end
  %nav.navbar.navbar-light.bg-light.navbar-expand-lg.divider{aria: {label: t(".main_navigation")}}
    .container-fluid
      = link_to "", root_path, class: "medici-logo"
      .d-flex.ms-auto
        = button_tag type: :button, class: "navbar-toggler collapsed", data: {bs_toggle: "collapse", bs_target: "#navbar"},
          aria: {controls: "navbar-default", expanded: false, label: t(".toggle_navigation")} do
          %span.icon-bar.top-bar.mt-0
          %span.icon-bar.middle-bar
          %span.icon-bar.bottom-bar
      #navbar.navbar-collapse.collapse
        %ul.navbar-nav.me-auto.order-1
          %li.nav-item
            = link_to admin_dashboard_path, class: "nav-link d-inline-flex align-items-center #{active_when(current_controller?("admin/dashboards"))}" do
              = external_svg_tag("svgs/home.svg")
              = t(".home")
          - if policy(::User).index?
            %li.nav-item
              = link_to admin_users_path, class: "nav-link d-inline-flex align-items-center #{active_when(current_controller?("admin/users"))}" do
                = external_svg_tag("svgs/users.svg")
                = t(".users")
          - if policy(::Store).index?
            %li.nav-item
              = link_to admin_stores_path, class: "nav-link d-inline-flex align-items-center #{active_when(current_controller?("admin/stores"))}" do
                = external_svg_tag("svgs/store.svg")
                = t(".stores")
          - if policy(::Medicine).index?
            %li.nav-item
              = link_to admin_medicines_path, class: "nav-link d-inline-flex align-items-center #{active_when(current_controller?("admin/medicines"))}" do
                = external_svg_tag("svgs/medicine-bag.svg")
                = t(".medicines")
          %li.nav-item.dropdown
            = link_to "javascript:void(0)", class: "nav-link d-inline-flex align-items-center dropdown-toggle",
              aria: {expanded: false}, data: {bs_toggle: "dropdown"} do
              = external_svg_tag("svgs/database.svg")
              = t(".metadata")
            %ul.dropdown-menu
              - if policy(::Currency).index?
                %li
                  = link_to admin_currencies_path, class: "dropdown-item" do
                    = t(".currencies")
              - if policy(::Country).index?
                %li
                  = link_to admin_countries_path, class: "dropdown-item" do
                    = t(".countries")
              - if policy(::DosageForm).index?
                %li
                  = link_to admin_dosage_forms_path, class: "dropdown-item" do
                    = t(".dosage_forms")
              - if policy(::MedicineCategory).index?
                %li
                  = link_to admin_medicine_categories_path, class: "dropdown-item" do
                    = t(".medicine_categories")
              - if policy(::Ingredient).index?
                %li
                  = link_to admin_ingredients_path, class: "dropdown-item" do
                    = t(".ingredients")
              - if policy(::PackingType).index?
                %li
                  = link_to admin_packing_types_path, class: "dropdown-item" do
                    = t(".packing_types")
        %ul.navbar-nav.d-none.d-lg-flex.ms-2.order-3
          = render_if_exists("layouts/admin/menu")
        %ul.navbar-nav.d-lg-none
          %li.nav-item-divider
          = render_if_exists("layouts/admin/menu")
.nav-scroller.shadow-sm.border-bottom.bg-light
  %nav.nav.nav-underline{aria: {label: t(".secondary_navigation")}}
    - if policy(::Customer).index?
      = link_to admin_customers_path, class: "nav-link d-flex px-2 align-items-center #{active_when(current_controller?("customers"))}" do
        = external_svg_tag("svgs/handshake.svg")
        = t(".customers")
    - if policy(::Supplier).index?
      = link_to admin_suppliers_path, class: "nav-link d-flex px-2 align-items-center #{active_when(current_controller?("suppliers"))}" do
        = external_svg_tag("svgs/truck.svg")
        = t(".suppliers")
    - if policy(::Manufacturer).index?
      = link_to admin_manufacturers_path, class: "nav-link d-flex px-2 align-items-center #{active_when(current_controller?("manufacturers"))}" do
        = external_svg_tag("svgs/company.svg")
        = t(".manufacturers")
    = link_to "javascript:void(0)", class: "nav-link d-flex px-2 align-items-center #{active_when(current_controller?("sells"))}" do
      = external_svg_tag("svgs/monitoring-dashboard.svg")
      = t(".sells")
    = link_to "javascript:void(0)", class: "nav-link d-flex px-2 align-items-center #{active_when(current_controller?("reports"))}" do
      = external_svg_tag("svgs/report.svg")
      = t(".reports")
